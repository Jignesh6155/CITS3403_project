{% extends "base.html" %}
{% set active_page = "comms" %}

{% block title %}Career Climb Arena{% endblock %}

{% block content %}
<header class="px-6 py-4 bg-indigo-100 border-b border-gray-200 flex justify-between items-center">
  <h1 class="text-xl font-semibold text-indigo-900">Career Climb Arena</h1>
</header>

<main class="flex-1 p-6 grid grid-cols-1 lg:grid-cols-4 gap-6 overflow-y-auto">

  <!-- Friends Management (Top Left) -->
  <section class="bg-white border border-gray-200 p-6 shadow rounded-lg col-span-1">
    <h2 class="text-lg font-semibold text-gray-800 mb-4">Friends</h2>
    <div class="flex flex-col gap-2 mb-4">
      <input type="text" placeholder="Add Friend by Email" class="border rounded px-3 py-2 text-sm" />
      <button class="bg-indigo-600 text-white rounded px-4 py-2 hover:bg-indigo-700">Add Friend</button>
    </div>
    <h3 class="text-sm font-semibold text-gray-700 mb-2">Your Friends</h3>
    <ul class="text-sm space-y-2">
      <li>👤 John Doe</li>
      <li>👤 Jane Smith</li>
      <li>👤 Alex Johnson</li>
    </ul>
  </section>

  <!-- Leaderboard (Top Right) -->
  <section class="bg-white border border-gray-200 p-6 shadow rounded-lg col-span-1 lg:col-span-1">
    <h2 class="text-lg font-semibold text-gray-800 mb-4">Leaderboard</h2>
    <ul class="space-y-3 text-sm">
      <li class="bg-indigo-50 px-4 py-3 rounded-md flex justify-between">
        <span>🏆 <strong>You</strong> — 120 apps</span>
      </li>
      <li class="bg-gray-50 px-4 py-3 rounded-md flex justify-between">
        <span>💼 <strong>Jane</strong> — 115 apps</span>
      </li>
      <li class="bg-gray-50 px-4 py-3 rounded-md flex justify-between">
        <span>🚀 <strong>John</strong> — 110 apps</span>
      </li>
      <li class="bg-gray-50 px-4 py-3 rounded-md flex justify-between">
        <span>🎯 <strong>Alex</strong> — 105 apps</span>
      </li>
      <li class="bg-gray-50 px-4 py-3 rounded-md flex justify-between">
        <span>🌟 <strong>Emily</strong> — 100 apps</span>
      </li>
    </ul>
  </section>

  <!-- Shared Applications (Center Big) -->
  <section class="bg-white border border-gray-200 p-6 shadow rounded-lg col-span-2 lg:col-span-2">
    <h2 class="text-lg font-semibold text-gray-800 mb-4">Shared Applications</h2>

    <!-- Filters -->
    <div class="flex flex-wrap gap-4 mb-4">
      <input type="text" placeholder="Search Company" class="border rounded px-3 py-2 text-sm flex-1" />
      <select class="border rounded px-3 py-2 text-sm">
        <option>Filter by Job Type</option>
        <option>Internship</option>
        <option>Full-Time</option>
      </select>
      <select class="border rounded px-3 py-2 text-sm">
        <option>Sort by Date</option>
        <option>Newest</option>
        <option>Oldest</option>
      </select>
    </div>

    <!-- Shared Apps List -->
    <ul class="space-y-3">
      <li class="border p-4 rounded hover:bg-gray-50 flex justify-between items-center">
        <div>
          <p class="font-semibold">Google - Software Engineer</p>
          <p class="text-gray-500 text-sm">Shared by Jane | 2025-03-21</p>
        </div>
        <button class="bg-green-500 hover:bg-green-600 text-white text-sm px-3 py-1 rounded">Save</button>
      </li>
      <li class="border p-4 rounded hover:bg-gray-50 flex justify-between items-center">
        <div>
          <p class="font-semibold">Amazon - Cloud Support</p>
          <p class="text-gray-500 text-sm">Shared by John | 2025-03-19</p>
        </div>
        <button class="bg-green-500 hover:bg-green-600 text-white text-sm px-3 py-1 rounded">Save</button>
      </li>
      <li class="border p-4 rounded hover:bg-gray-50 flex justify-between items-center">
        <div>
          <p class="font-semibold">Meta - Data Analyst</p>
          <p class="text-gray-500 text-sm">Shared by Alex | 2025-03-18</p>
        </div>
        <button class="bg-green-500 hover:bg-green-600 text-white text-sm px-3 py-1 rounded">Save</button>
      </li>
    </ul>
  </section>

  <!-- Stat Graphs (Bottom Full Width) -->
  <section class="col-span-4 bg-white border border-gray-200 p-6 shadow rounded-lg">
    <h2 class="text-lg font-semibold text-gray-800 mb-4">Career Stats</h2>
    <canvas id="comparisonChart" height="100"></canvas>
  </section>

</main>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  new Chart(document.getElementById('comparisonChart'), {
    type: 'bar',
    data: {
      labels: ['Apps Sent', 'Interviews', 'Offers'],
      datasets: [
        {
          label: 'You',
          data: [42, 11, 3],
          backgroundColor: 'rgba(99, 102, 241, 0.7)'
        },
        {
          label: 'Jane',
          data: [40, 10, 2],
          backgroundColor: 'rgba(34, 197, 94, 0.7)'
        },
        {
          label: 'John',
          data: [30, 9, 1],
          backgroundColor: 'rgba(234, 179, 8, 0.7)'
        }
      ]
    },
    options: {
      responsive: true,
      plugins: {
        legend: { position: 'bottom' }
      },
      scales: {
        y: { beginAtZero: true }
      }
    }
  });
</script>
{% endblock %}